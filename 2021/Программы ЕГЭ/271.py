print(max(sum(list(reversed(sorted(filter(lambda elem: elem%3==0, [int(elem) for elem in open('27-A.txt').read().splitlines()]))))[:3]),sum(list(reversed(sorted(filter(lambda elem: elem%3==1, [int(elem) for elem in open('27-A.txt').read().splitlines()]))))[:3]),sum(list(reversed(sorted(filter(lambda elem: elem%3==2, [int(elem) for elem in open('27-A.txt').read().splitlines()]))))[:3]),list(reversed(sorted(filter(lambda elem: elem%3==0, [int(elem) for elem in open('27-A.txt').read().splitlines()]))))[0] + list(reversed(sorted(filter(lambda elem: elem%3==1, [int(elem) for elem in open('27-A.txt').read().splitlines()]))))[0] + list(reversed(sorted(filter(lambda elem: elem%3==2, [int(elem) for elem in open('27-A.txt').read().splitlines()]))))[0]))